# –û—Ç—á–µ—Ç: –£–ø—Ä–æ—â–µ–Ω–∏–µ –°—Ç–∞—Ç—É—Å–æ–≤ –∏ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –û—à–∏–±–æ–∫

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –≤—ã–±–æ—Ä–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω —Å –æ—à–∏–±–∫–æ–π:
```
Uncaught TypeError: Cannot read properties of undefined (reading 'map')
```

–û—à–∏–±–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∞ –≤ `ObjectDetailsPanel.tsx` –Ω–∞ —Å—Ç—Ä–æ–∫–µ 829, –≥–¥–µ –ø—ã—Ç–∞–ª—Å—è –≤—ã–∑–≤–∞—Ç—å `.map()` –Ω–∞ `undefined`.

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### üîç –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–û—à–∏–±–∫–∞ —Å undefined –º–∞—Å—Å–∏–≤–∞–º–∏**
   - `task.checklist`, `task.attachments`, `task.comments` –º–æ–≥–ª–∏ –±—ã—Ç—å `undefined`
   - –í—ã–∑–æ–≤ `.map()` –Ω–∞ `undefined` –≤—ã–∑—ã–≤–∞–ª –æ—à–∏–±–∫—É

2. **–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–æ–≤**
   - 13 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ–∑–¥–∞–≤–∞–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞—Ç—É—Å—ã –º–æ–≥–ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–∞–Ω–Ω—ã–º–∏

3. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤**
   - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Task` —Ç—Ä–µ–±–æ–≤–∞–ª –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã
   - –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥–ª–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —ç—Ç–∏ –ø–æ–ª—è

## –†–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å undefined –º–∞—Å—Å–∏–≤–∞–º–∏
**–§–∞–π–ª:** `src/components/ObjectDetailsPanel.tsx`

**–ë—ã–ª–æ:**
```typescript
{task.checklist.map((item) => (
{task.attachments.map((attachment) => (
{task.comments.map((comment) => (
```

**–°—Ç–∞–ª–æ:**
```typescript
{task.checklist?.map((item) => (
{task.attachments?.map((attachment) => (
{task.comments?.map((comment) => (
```

### 2. –£–ø—Ä–æ—â–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã –¥–æ —Ç—Ä–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö
**–§–∞–π–ª—ã:**
- `src/components/ObjectDetailsPanel.tsx`
- `src/components/ZoneObjectDetailsPanel.tsx`

**–ë—ã–ª–æ:**
```typescript
type TaskStatus = 
  | 'open' 
  | 'backlog' 
  | 'ready_for_dev' 
  | 'in_progress' 
  | 'ready_for_review' 
  | 'in_review' 
  | 'in_test' 
  | 'done' 
  | 'completed' 
  | 'blocked' 
  | 'paused' 
  | 'archived' 
  | 'dropped'
```

**–°—Ç–∞–ª–æ:**
```typescript
type TaskStatus = 'open' | 'in_progress' | 'done'
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É–ø—Ä–æ—â–µ–Ω–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
**–§—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã:**
- `getStatusColor()` - —Ç–æ–ª—å–∫–æ 3 —Ü–≤–µ—Ç–∞
- `getStatusText()` - —Ç–æ–ª—å–∫–æ 3 —Ç–µ–∫—Å—Ç–∞
- `statusOptions` - —Ç–æ–ª—å–∫–æ 3 –æ–ø—Ü–∏–∏

### 4. –°–¥–µ–ª–∞–Ω—ã –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏
**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Task:**
```typescript
interface Task {
  // ... –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
  checklist?: Array<{...}>  // ‚Üê –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ
  attachments?: Array<{...}> // ‚Üê –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ
  comments?: Array<{...}>    // ‚Üê –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ
}
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–û—à–∏–±–∫–∞ —Å undefined** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å –ø–æ–º–æ—â—å—é optional chaining (`?.`)
2. **–£–ø—Ä–æ—â–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã** - —Ç–æ–ª—å–∫–æ 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö: Open, In Progress, Done
3. **–£–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è –æ—à–∏–±–æ–∫
4. **–£–ø—Ä–æ—â–µ–Ω UI** - –º–µ–Ω—å—à–µ –æ–ø—Ü–∏–π –≤ dropdown'–∞—Ö

### üéØ –ù–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã:
- **Open** (–∫—Ä–∞—Å–Ω—ã–π) - –∑–∞–¥–∞—á–∞ –æ—Ç–∫—Ä—ã—Ç–∞
- **In Progress** (–±–∏—Ä—é–∑–æ–≤—ã–π) - –∑–∞–¥–∞—á–∞ –≤ —Ä–∞–±–æ—Ç–µ
- **Done** (–∑–µ–ª–µ–Ω—ã–π) - –∑–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –ú–µ–Ω—å—à–µ –∫–æ–¥–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –æ–±—ä–µ–∫—Ç –≤ –ø–∞–Ω–µ–ª–∏ "Task Details"
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ –≤—Å–µ —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞:
   - Open
   - In Progress
   - Done
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –±–µ–ª–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ª—é–±–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ Dropdown –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ 3 –æ–ø—Ü–∏–∏
- ‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `src/components/ObjectDetailsPanel.tsx` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∏ —É–ø—Ä–æ—â–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã
- `src/components/ZoneObjectDetailsPanel.tsx` - —É–ø—Ä–æ—â–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å —É–ø—Ä–æ—â–µ–Ω–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ (–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ –µ—Å—Ç—å)
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –≤ –±—É–¥—É—â–µ–º
4. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
