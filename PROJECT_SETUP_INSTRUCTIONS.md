# üéØ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ù–ê–°–¢–†–û–ô–ö–ï –ü–†–û–ï–ö–¢–ê –í SUPABASE

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê

–¢–∞–±–ª–∏—Ü–∞ `projects` –ø—É—Å—Ç–∞—è, –∞ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –Ω–µ—ë —á–µ—Ä–µ–∑ `project_id`. –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

## üöÄ **–ü–û–®–ê–ì–û–í–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê**

### ‚úÖ **–®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Supabase**

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor Supabase:**

```sql
-- –û—Ç–∫–ª—é—á–∞–µ–º RLS –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã projects (–≤—Ä–µ–º–µ–Ω–Ω–æ)
ALTER TABLE projects DISABLE ROW LEVEL SECURITY;

-- –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
INSERT INTO projects (
  id,
  name,
  description,
  user_id,
  status,
  created_at,
  updated_at,
  color,
  icon
) VALUES (
  gen_random_uuid(),
  'PlayJob 3D Game',
  '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ 3D –∏–≥—Ä—ã –≤ —Å—Ç–∏–ª–µ PlayJob —Å –≥–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç–æ–π',
  'test-user-id',
  'active',
  NOW(),
  NOW(),
  '#3B82F6',
  'üéÆ'
);

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–ª—Å—è
SELECT id, name, created_at FROM projects ORDER BY created_at DESC;

-- –í–∫–ª—é—á–∞–µ–º RLS –æ–±—Ä–∞—Ç–Ω–æ
ALTER TABLE projects ENABLE ROW LEVEL SECURITY;
```

### ‚úÖ **–®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ ID –ø—Ä–æ–µ–∫—Ç–∞**

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor:**

```sql
-- –ü–æ–ª—É—á–∞–µ–º ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
SELECT id, name FROM projects WHERE name = 'PlayJob 3D Game' LIMIT 1;
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –ø—Ä–æ–µ–∫—Ç–∞** - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### ‚úÖ **–®–∞–≥ 3: –û—Ç–∫–ª—é—á–∏—Ç–µ RLS –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü**

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor:**

```sql
-- –û—Ç–∫–ª—é—á–∞–µ–º RLS –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
ALTER TABLE zones DISABLE ROW LEVEL SECURITY;
ALTER TABLE zone_cells DISABLE ROW LEVEL SECURITY;
ALTER TABLE hex_cells DISABLE ROW LEVEL SECURITY;
ALTER TABLE buildings DISABLE ROW LEVEL SECURITY;
ALTER TABLE projects DISABLE ROW LEVEL SECURITY;
```

### ‚úÖ **–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ –µ—Å—Ç—å:**

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### ‚úÖ **–®–∞–≥ 5: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (http://localhost:5176/)
2. **–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç** "PlayJob 3D Game"
3. **–°–æ–∑–¥–∞–π—Ç–µ –∑–æ–Ω—É** - –≤—ã–±–µ—Ä–∏—Ç–µ —è—á–µ–π–∫–∏, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –≤—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç
4. **–°–æ–∑–¥–∞–π—Ç–µ –∑–¥–∞–Ω–∏–µ** - –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∑–¥–∞–Ω–∏—è –∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —è—á–µ–π–∫—É –≤ –∑–æ–Ω–µ
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è

## üéØ **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´**

### ‚úÖ **–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:**
- ‚úÖ **–í —Ç–∞–±–ª–∏—Ü–µ `projects`:** –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º "PlayJob 3D Game"
- ‚úÖ **–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:** –ø—Ä–æ–µ–∫—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ

### ‚úÖ **–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–æ–Ω—ã:**
- ‚úÖ **–í –∫–æ–Ω—Å–æ–ª–∏:** "Zone created successfully"
- ‚úÖ **–í —Ç–∞–±–ª–∏—Ü–µ `zones`:** –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ —Ü–≤–µ—Ç–æ–º
- ‚úÖ **–í —Ç–∞–±–ª–∏—Ü–µ `zone_cells`:** –∑–∞–ø–∏—Å–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–∏ –∑–æ–Ω—ã
- ‚úÖ **–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:** –∑–æ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ü–≤–µ—Ç–æ–º

### ‚úÖ **–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–¥–∞–Ω–∏—è:**
- ‚úÖ **–í –∫–æ–Ω—Å–æ–ª–∏:** "Building created successfully"
- ‚úÖ **–í —Ç–∞–±–ª–∏—Ü–µ `buildings`:** –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å —Å —Ç–∏–ø–æ–º –∑–¥–∞–Ω–∏—è
- ‚úÖ **–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:** –∑–¥–∞–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —è—á–µ–π–∫–µ

## üîß **–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú**

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 1: "Project not found"**
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ç–∞–±–ª–∏—Ü–µ `projects`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `projectId` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 2: "Foreign key constraint failed"**
**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `project_id` –≤ –¥—Ä—É–≥–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ID –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 3: "Permission denied"**
**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ RLS –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üöÄ **–ü–†–û–í–ï–†–ö–ê –í –ë–ê–ó–ï –î–ê–ù–ù–´–•**

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:**

```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–µ–∫—Ç—ã
SELECT * FROM projects ORDER BY created_at DESC;

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–æ–Ω—ã
SELECT * FROM zones ORDER BY created_at DESC;

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–¥–∞–Ω–∏—è
SELECT * FROM buildings ORDER BY created_at DESC;

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —è—á–µ–π–∫–∏ –∑–æ–Ω
SELECT * FROM zone_cells ORDER BY created_at DESC;
```

## üéâ **–ï–°–õ–ò –í–°–ï –†–ê–ë–û–¢–ê–ï–¢**

### ‚úÖ **–í–∫–ª—é—á–∏—Ç–µ RLS –æ–±—Ä–∞—Ç–Ω–æ:**

```sql
-- –í–∫–ª—é—á–∞–µ–º RLS
ALTER TABLE zones ENABLE ROW LEVEL SECURITY;
ALTER TABLE zone_cells ENABLE ROW LEVEL SECURITY;
ALTER TABLE hex_cells ENABLE ROW LEVEL SECURITY;
ALTER TABLE buildings ENABLE ROW LEVEL SECURITY;
ALTER TABLE projects ENABLE ROW LEVEL SECURITY;

-- –°–æ–∑–¥–∞–µ–º –ø–æ–ª–∏—Ç–∏–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ database_schema.sql)
```

### ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é:**

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ RLS —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

*–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Supabase*  
*–°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û –ö –í–´–ü–û–õ–ù–ï–ù–ò–Æ ‚úÖ* 