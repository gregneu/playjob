-- ПРАВИЛЬНОЕ СОЗДАНИЕ ТИКЕТОВ ДЛЯ СУЩЕСТВУЮЩЕГО ЗДАНИЯ
-- Запустите этот скрипт в Supabase SQL Editor

-- Создаем 30 тикетов для здания 253ab136-555c-4a6c-a485-4bbd6cc09f23
INSERT INTO object_tickets (
  zone_object_id,
  type,
  title,
  description,
  status,
  priority,
  assignee_id,
  created_at,
  updated_at
) VALUES 
-- Story тикеты (10 штук)
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'story', 'Реализовать систему уведомлений', 'Пользователи должны получать уведомления о важных событиях в проекте.', 'open', 'high', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'story', 'Добавить темную тему интерфейса', 'Создать переключатель между светлой и темной темой для улучшения UX.', 'in_progress', 'medium', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'story', 'Разработать мобильную версию', 'Обеспечить адаптивный дизайн для мобильных устройств и планшетов.', 'open', 'veryhigh', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'story', 'Интегрировать с внешними API', 'Подключить сторонние сервисы для расширения функционала приложения.', 'open', 'medium', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'story', 'Создать систему ролей и прав', 'Разграничить доступ пользователей на основе их ролей в проекте.', 'open', 'high', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'story', 'Добавить функцию экспорта данных', 'Пользователи должны иметь возможность экспортировать данные в разных форматах.', 'open', 'medium', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'story', 'Реализовать поиск по проекту', 'Добавить полнотекстовый поиск по всем элементам проекта.', 'open', 'low', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'story', 'Создать систему комментариев', 'Пользователи должны иметь возможность комментировать задачи и обновления.', 'open', 'medium', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'story', 'Добавить календарь событий', 'Интегрировать календарь для отслеживания дедлайнов и встреч.', 'open', 'low', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'story', 'Реализовать систему тегов', 'Добавить возможность тегирования задач для лучшей организации.', 'open', 'v-low', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),

-- Task тикеты (10 штук)
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'task', 'Настроить CI/CD пайплайн', 'Автоматизировать процесс сборки, тестирования и деплоя приложения.', 'in_progress', 'high', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'task', 'Оптимизировать производительность', 'Улучшить скорость загрузки и отзывчивость интерфейса.', 'open', 'medium', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'task', 'Написать юнит-тесты', 'Покрыть основные компоненты и функции тестами.', 'open', 'low', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'task', 'Обновить документацию', 'Актуализировать техническую документацию и руководства пользователя.', 'open', 'v-low', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'task', 'Настроить мониторинг', 'Внедрить инструменты для отслеживания состояния системы.', 'open', 'medium', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'task', 'Провести рефакторинг кода', 'Улучшить читаемость и поддерживаемость существующего кода.', 'open', 'low', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'task', 'Внедрить логирование', 'Собирать и анализировать логи со всех компонентов системы.', 'open', 'medium', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'task', 'Настроить кэширование', 'Уменьшить нагрузку на базу данных с помощью кэша.', 'open', 'high', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'task', 'Провести аудит безопасности', 'Проверить систему на наличие потенциальных уязвимостей.', 'open', 'veryhigh', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'task', 'Оптимизировать базу данных', 'Улучшить структуру таблиц и индексов для повышения производительности.', 'open', 'high', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),

-- Bug тикеты (5 штук)
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'bug', 'Кнопка сохранения неактивна', 'После редактирования данных кнопка сохранения остается неактивной.', 'open', 'veryhigh', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'bug', 'Ошибка валидации email', 'Система не принимает корректные email адреса при регистрации.', 'in_progress', 'high', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'bug', 'Медленная загрузка дашборда', 'Страница дашборда загружается более 10 секунд.', 'open', 'high', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'bug', 'Проблема с кодировкой', 'Специальные символы отображаются некорректно в отчетах.', 'open', 'medium', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'bug', 'Утечка памяти', 'Приложение потребляет все больше памяти при длительной работе.', 'open', 'veryhigh', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),

-- Test тикеты (5 штук)
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'test', 'Тестирование формы регистрации', 'Проверить корректность работы всех полей формы регистрации.', 'open', 'medium', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'test', 'Тестирование API эндпоинтов', 'Проверить работу всех API методов и их обработку ошибок.', 'in_progress', 'high', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'test', 'Нагрузочное тестирование', 'Оценить производительность системы под высокой нагрузкой.', 'open', 'high', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'test', 'Кроссбраузерное тестирование', 'Проверить работу приложения в разных браузерах и версиях.', 'open', 'low', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW()),
('253ab136-555c-4a6c-a485-4bbd6cc09f23', 'test', 'Тестирование на мобильных устройствах', 'Проверить адаптивность и функционал на смартфонах и планшетах.', 'open', 'medium', '520a6177-9457-4657-86f9-e7fa3737ce5d', NOW(), NOW());

-- Проверяем результат
SELECT 'Успешно создано 30 тикетов!' as status;
SELECT COUNT(*) as total_tickets FROM object_tickets WHERE zone_object_id = '253ab136-555c-4a6c-a485-4bbd6cc09f23';
