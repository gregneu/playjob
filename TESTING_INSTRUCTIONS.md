# üß™ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ –°–û–•–†–ê–ù–ï–ù–ò–Ø –î–ê–ù–ù–´–•

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê

–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –≤ Supabase, –Ω–æ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ –µ—â–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã.

## üöÄ **–ü–û–®–ê–ì–û–í–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï**

### ‚úÖ **–®–∞–≥ 1: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ RLS**

**–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor Supabase:**

```sql
-- –û—Ç–∫–ª—é—á–∞–µ–º RLS –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
ALTER TABLE zones DISABLE ROW LEVEL SECURITY;
ALTER TABLE zone_cells DISABLE ROW LEVEL SECURITY;
ALTER TABLE hex_cells DISABLE ROW LEVEL SECURITY;
ALTER TABLE buildings DISABLE ROW LEVEL SECURITY;
```

### ‚úÖ **–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ –µ—Å—Ç—å:**

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### ‚úÖ **–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞**

**–û—Ç–∫—Ä–æ–π—Ç–µ DevTools –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. **–ù–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ 401/403** - –ø—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
2. **–ù–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ 404** - –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏
3. **–ù–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ 500** - –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º

### ‚úÖ **–®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–æ–Ω—ã**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
2. **–°–æ–∑–¥–∞–π—Ç–µ –∑–æ–Ω—É** (–≤—ã–±–µ—Ä–∏—Ç–µ —è—á–µ–π–∫–∏, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –≤—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É `zones`** –≤ Supabase

### ‚úÖ **–®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–¥–∞–Ω–∏—è**

1. **–°–æ–∑–¥–∞–π—Ç–µ –∑–æ–Ω—É** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–ª–∏)
2. **–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∑–¥–∞–Ω–∏—è** (–¥–æ–º, –¥–µ—Ä–µ–≤–æ, —Ñ–∞–±—Ä–∏–∫–∞)
3. **–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —è—á–µ–π–∫—É –≤ –∑–æ–Ω–µ**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É `buildings`** –≤ Supabase

## üîß **–í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø**

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 1: –û—à–∏–±–∫–∏ 401/403**
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
**–†–µ—à–µ–Ω–∏–µ:** 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ RLS –æ—Ç–∫–ª—é—á–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∏ 404**
**–ü—Ä–∏—á–∏–Ω–∞:** –¢–∞–±–ª–∏—Ü—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –≤ Supabase
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å: `zones`, `zone_cells`, `hex_cells`, `buildings`)

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 3: –û—à–∏–±–∫–∏ 500**
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞ –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞ 4: –î–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è**
**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `loadProjectData`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `projectId` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

## üéØ **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´**

### ‚úÖ **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–æ–Ω—ã:**
- ‚úÖ **–í –∫–æ–Ω—Å–æ–ª–∏:** "Zone created successfully"
- ‚úÖ **–í —Ç–∞–±–ª–∏—Ü–µ `zones`:** –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ —Ü–≤–µ—Ç–æ–º
- ‚úÖ **–í —Ç–∞–±–ª–∏—Ü–µ `zone_cells`:** –∑–∞–ø–∏—Å–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–∏ –∑–æ–Ω—ã
- ‚úÖ **–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:** –∑–æ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ü–≤–µ—Ç–æ–º

### ‚úÖ **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–¥–∞–Ω–∏—è:**
- ‚úÖ **–í –∫–æ–Ω—Å–æ–ª–∏:** "Building created successfully"
- ‚úÖ **–í —Ç–∞–±–ª–∏—Ü–µ `buildings`:** –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å —Å —Ç–∏–ø–æ–º –∑–¥–∞–Ω–∏—è
- ‚úÖ **–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:** –∑–¥–∞–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ —è—á–µ–π–∫–µ

## üöÄ **–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê**

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:**

```javascript
// –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–∞–∫–∏–µ –ª–æ–≥–∏:
"Creating zone with data:", { name, color, project_id }
"Zone created successfully:", zone
"Creating building with data:", { q, r, building_type }
"Building created successfully:", building
```

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase:**

```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–æ–Ω—ã
SELECT * FROM zones ORDER BY created_at DESC LIMIT 5;

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–¥–∞–Ω–∏—è
SELECT * FROM buildings ORDER BY created_at DESC LIMIT 5;

-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —è—á–µ–π–∫–∏ –∑–æ–Ω
SELECT * FROM zone_cells ORDER BY created_at DESC LIMIT 10;
```

## üéâ **–ï–°–õ–ò –í–°–ï –†–ê–ë–û–¢–ê–ï–¢**

### ‚úÖ **–í–∫–ª—é—á–∏—Ç–µ RLS –æ–±—Ä–∞—Ç–Ω–æ:**

```sql
-- –í–∫–ª—é—á–∞–µ–º RLS
ALTER TABLE zones ENABLE ROW LEVEL SECURITY;
ALTER TABLE zone_cells ENABLE ROW LEVEL SECURITY;
ALTER TABLE hex_cells ENABLE ROW LEVEL SECURITY;
ALTER TABLE buildings ENABLE ROW LEVEL SECURITY;

-- –°–æ–∑–¥–∞–µ–º –ø–æ–ª–∏—Ç–∏–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ database_schema.sql)
```

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é:**

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ RLS —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

*–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö*  
*–°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ ‚úÖ* 